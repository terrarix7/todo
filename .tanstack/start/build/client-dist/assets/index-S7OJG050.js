import{r as c,j as o}from"./main-4cH8jWV1.js";const m="todos";function r(){if(typeof window>"u")return{};const n=localStorage.getItem(m);if(!n)return{};const e=JSON.parse(n);return Object.keys(e).forEach(s=>{e[s]=e[s].map(d=>({...d,createdAt:new Date(d.createdAt)}))}),e}function S(n){typeof window>"u"||localStorage.setItem(m,JSON.stringify(n))}function j(n){const e=r(),s=new Date().toISOString().split("T")[0],d={id:crypto.randomUUID(),text:n,completed:!1,createdAt:new Date};e[s]||(e[s]=[]),e[s].push(d),S(e)}function D(n,e){const s=r();if(s[n]){const d=s[n].find(i=>i.id===e);d&&(d.completed=!d.completed,S(s))}}function T(n){return r()[n]||[]}function v(n){const e=T(n);return{completed:e.filter(s=>s.completed).length,total:e.length}}function y(n){return new Date(n+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}const C=function(){const[e,s]=c.useState(()=>r()),[d,i]=c.useState(()=>new Date().toISOString().split("T")[0]),[l,a]=c.useState(""),p=()=>{s(r())},x=()=>{l.trim()&&(j(l.trim()),a(""),p())},b=t=>{D(d,t),p()},f=T(d),w=Object.keys(e).sort().reverse();return o.jsxs("div",{style:{display:"flex",height:"100vh",fontFamily:"Arial, sans-serif"},children:[o.jsxs("div",{style:{width:"250px",backgroundColor:"#f5f5f5",padding:"20px",borderRight:"1px solid #ddd",overflowY:"auto"},children:[o.jsx("h3",{style:{margin:"0 0 20px 0"},children:"Days"}),w.map(t=>{const h=v(t),g=t===new Date().toISOString().split("T")[0],u=t===d;return o.jsxs("div",{onClick:()=>i(t),style:{padding:"10px",marginBottom:"5px",backgroundColor:u?"#007bff":g?"#e3f2fd":"white",color:u?"white":"black",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:[o.jsxs("div",{style:{fontWeight:"bold"},children:[y(t),g&&o.jsx("span",{style:{fontSize:"12px",marginLeft:"5px"},children:"(Today)"})]}),o.jsxs("div",{style:{fontSize:"12px",opacity:.8},children:[h.completed,"/",h.total]})]},t)})]}),o.jsxs("div",{style:{flex:1,padding:"20px"},children:[o.jsxs("h2",{style:{marginBottom:"20px"},children:[y(d),d===new Date().toISOString().split("T")[0]&&" (Today)"]}),o.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px"},children:[o.jsx("input",{type:"text",value:l,onChange:t=>a(t.target.value),onKeyPress:t=>t.key==="Enter"&&x(),placeholder:"Add a new todo...",style:{flex:1,padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}}),o.jsx("button",{onClick:x,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Add Todo"})]}),o.jsx("div",{children:f.length===0?o.jsx("p",{style:{color:"#666",fontStyle:"italic"},children:"No todos for this day"}):f.map(t=>o.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"10px",marginBottom:"8px",backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",gap:"10px"},children:[o.jsx("input",{type:"checkbox",checked:t.completed,onChange:()=>b(t.id),style:{transform:"scale(1.2)"}}),o.jsx("span",{style:{flex:1,textDecoration:t.completed?"line-through":"none",color:t.completed?"#666":"black",fontSize:"14px"},children:t.text})]},t.id))})]})]})};export{C as component};
